<local:ViewBase x:Class="LightningCAD.Views.LCLinetypeView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:models="clr-namespace:LightningCAD.Models"
        xmlns:local="clr-namespace:LightningCAD.Views"
        xmlns:core="clr-namespace:System;assembly=mscorlib"
        Title="自定义线型" MaxHeight="650">
    <Window.Resources>
        <ObjectDataProvider x:Key="LineUnit" MethodName="GetValues" ObjectType="{x:Type core:Enum}">
            <ObjectDataProvider.MethodParameters>
                <x:Type Type="models:LineUnit"/>
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>
        <models:LineUnit x:Key="LineUnitConverter">直线</models:LineUnit>
    </Window.Resources>
    <Grid Width="500">
        <Grid.RowDefinitions>
            <RowDefinition Height="25"></RowDefinition>
            <RowDefinition></RowDefinition>
            <RowDefinition></RowDefinition>
        </Grid.RowDefinitions>

        <TextBlock HorizontalAlignment="Left" Margin="10,0,0,0" TextWrapping="Wrap" VerticalAlignment="Center" Text="线型名称"></TextBlock>
        <TextBox Name="name" HorizontalAlignment="Left" Margin="63,0,0,0" TextWrapping="Wrap" VerticalAlignment="Center" Width="120"/>
        <TextBlock HorizontalAlignment="Left" Margin="188,0,0,0" TextWrapping="Wrap" Text="描述" VerticalAlignment="Center"></TextBlock>
        <TextBox Name="description" HorizontalAlignment="Left" Margin="217,0,0,0" TextWrapping="Wrap" VerticalAlignment="Center" Width="230"/>
        <Button Content="完成" HorizontalAlignment="Right" Margin="0,0,5,0" VerticalAlignment="Center" Width="45" Click="Complete_Click"/>

        <WrapPanel Grid.Row="1">
            <Button Content="添加笔画" Height="22" HorizontalAlignment="Left" Margin="5,0,0,0" Width="55" VerticalAlignment="Center" Click="Add_Click"/>
            <Button Content="删除笔画" Height="22" HorizontalAlignment="Left" Margin="3,0,0,0" Width="55" VerticalAlignment="Center" Click="Delete_Click"/>
            <Button Width="25" Height="22" Margin="3,0,0,0" Click="MoveNumberButton_Click" Name="uper">
                <Image Name="up"></Image>
            </Button>
            <Button Width="25" Height="22" Margin="3,0,0,0" Click="MoveNumberButton_Click">
                <Image Name="down"></Image>
            </Button>

            <TextBlock HorizontalAlignment="Left" Margin="3,0,0,0" TextWrapping="Wrap" VerticalAlignment="Center" FontSize="11" Width="311"><Run Language="zh-cn" Text="文字内容不为空时右侧选项生效，文字以该笔画末尾为基准点。字高3.5，字宽=3.5*0.7=2.45，文字以左下角点为对齐点。"/></TextBlock>
        </WrapPanel>

        <DataGrid Grid.Row="2" Name="dataGrid" Margin="5,2,5,5" AutoGenerateColumns="False" ItemsSource="{Binding}" CanUserAddRows="False" CanUserDeleteRows="False" CanUserSortColumns="False" CanUserReorderColumns="False">
            <DataGrid.ColumnHeaderStyle>
                <Style TargetType="{x:Type DataGridColumnHeader}">
                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                </Style>
            </DataGrid.ColumnHeaderStyle>
            <DataGrid.Resources>
                <Style x:Key="CenterTextBlockStyle" TargetType="TextBlock">
                    <Setter Property="HorizontalAlignment" Value="Center"/>
                    <Setter Property="VerticalAlignment" Value="Center"/>
                </Style>
                <Style x:Key="LeftTextBlockStyle" TargetType="TextBlock">
                    <Setter Property="HorizontalAlignment" Value="Left"/>
                    <Setter Property="VerticalAlignment" Value="Center"/>
                </Style>
            </DataGrid.Resources>

            <DataGrid.Columns>
                <DataGridTextColumn Header="序号" IsReadOnly="True" Binding="{Binding Number, Mode=TwoWay}" ElementStyle="{StaticResource CenterTextBlockStyle}"></DataGridTextColumn>
                <DataGridComboBoxColumn Header="类型" SelectedItemBinding="{Binding LineUnit,Mode=TwoWay}" ItemsSource="{Binding Source={StaticResource LineUnit}}" Width="61">
                </DataGridComboBoxColumn>
                <DataGridTextColumn Header="长度" Binding="{Binding Length,Mode=TwoWay}" ElementStyle="{StaticResource CenterTextBlockStyle}"></DataGridTextColumn>
                <DataGridTextColumn Header="文字内容" Binding="{Binding Text,Mode=TwoWay}" ElementStyle="{StaticResource CenterTextBlockStyle}" Width="140"></DataGridTextColumn>
                <DataGridTextColumn Header="缩放" Binding="{Binding Scale,Mode=TwoWay}" ElementStyle="{StaticResource CenterTextBlockStyle}"></DataGridTextColumn>
                <DataGridTextColumn Header="角度" Binding="{Binding Rotate,Mode=TwoWay}" ElementStyle="{StaticResource CenterTextBlockStyle}"></DataGridTextColumn>
                <DataGridCheckBoxColumn Header="对齐ucs" Binding="{Binding IsUcs,Mode=TwoWay}"></DataGridCheckBoxColumn>
                <DataGridTextColumn Header="偏移X" Binding="{Binding X,Mode=TwoWay}" ElementStyle="{StaticResource CenterTextBlockStyle}"></DataGridTextColumn>
                <DataGridTextColumn Header="偏移Y" Binding="{Binding Y,Mode=TwoWay}" ElementStyle="{StaticResource CenterTextBlockStyle}"></DataGridTextColumn>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</local:ViewBase>